<ot-view>
    <div class="row">
        <div class="col-md-12">
            <form name="thisForm" class="form-horizontal well" ng-submit="exportSubmit()" novalidate="novalidate">
                <ot-form form="exportForm" data="exportData" form-root="thisForm"></ot-form>
                <button class="btn btn-primary col-md-offset-3" type="submit" ng-disabled="exportLaunched">
                    <span class="fa fa-download" ng-hide="exportLaunched"></span>
                    <span class="ot-loading" ng-show="exportLaunched"></span>
                    <span ng-hide="exportLaunched">Export</span>
                    <span ng-show="exportLaunched">Exporting...</span>
                </button>
            </form>
        </div>
    </div>
    <div class="row" ng-show="exportOutput">
        <div class="col-md-12">
            <div class="well">
                <p>
                    Your export is finished. You can download the ZIP containing all the CSV files
                    by clicking on the button below.
                </p>
                <p>
                    <a class="btn btn-primary" ng-href="extension/neo4j/export/{{exportOutput.uuid}}" target="_blank">
                        <span class="fa fa-download"></span>
                        <span>Download</span>
                    </a>
                </p>
                <p>
                    Once the ZIP has been downloaded in the <code>$DIR</code> directory, you can run
                    the following commands.
                </p>
                <p>
                    First, unzip the ZIP into a local <code>input</code> directory:
                </p>
                <pre>
cd $DIR
unzip -d input neo4j.zip
                </pre>
                <p>
                    Second, convert the CSV files into a Neo4J static database, in the local
                    <code>output</code> directory:
                </p>
                <pre>
docker run \
   --rm \
   --volume `pwd`/input:/input \
   --volume `pwd`/output:/output\
   neo4j:3.1.1 \
   bin/neo4j-import \
      --into /output \
      --delimeter ',' \
{{getNodeOptions(exportOutput)}}{{getRelOptions(exportOutput)}}
                </pre>
                <p>
                    Finally, for example, you can run Neo4J as a local container using the
                    converted database:
                </p>
                <pre>
mkdir -p data/databases
mv output data/databases/graph.db
docker run --detach \
    --publish=7474:7474 \
    --publish=7687:7687 \
    --name neo4j \
    --volume `pwd`/data:/data \
    neo4j:3.1.1
                </pre>
                <p>
                    After a few seconds, the Neo4J Ontrack database is available at
                    <a target="_blank" href="http://localhost:7474">http://localhost:7474</a>
                </p>
            </div>
        </div>
    </div>
</ot-view>